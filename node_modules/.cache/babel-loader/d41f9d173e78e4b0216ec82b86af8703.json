{"ast":null,"code":"import _classCallCheck from \"/Users/chetna/Desktop/Site/my-app/choco-corp/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/chetna/Desktop/Site/my-app/choco-corp/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/chetna/Desktop/Site/my-app/choco-corp/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/chetna/Desktop/Site/my-app/choco-corp/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/chetna/Desktop/Site/my-app/choco-corp/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/chetna/Desktop/Site/my-app/choco-corp/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/chetna/Desktop/Site/my-app/choco-corp/src/components/SignUpPage.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport * as actions from '../actions/index';\n\nvar SignUpPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignUpPage, _Component);\n\n  function SignUpPage(props) {\n    var _this;\n\n    _classCallCheck(this, SignUpPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignUpPage).call(this, props));\n    _this.state = {\n      rut: \"\",\n      password: \"\",\n      everFocusedRut: false,\n      everFocusedPassword: false,\n      inFocus: \"\",\n      errors: {},\n      blockError: false,\n      invalidRut: false,\n      errorStatus: false,\n      validRut: false,\n      wentWrong: false,\n      isLoading: false,\n      invalidRutPassword: false\n    };\n    _this.handleRutChange = _this.handleRutChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePasswordChange = _this.handlePasswordChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onCheckValidRut = _this.onCheckValidRut.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SignUpPage, [{\n    key: \"handleRutChange\",\n    value: function handleRutChange(name, rutt) {\n      this.setState({\n        rut: rutt\n      });\n    }\n  }, {\n    key: \"handlePasswordChange\",\n    value: function handlePasswordChange(evt) {\n      document.getElementById('wentWrong').style.display = \"none\";\n      this.state.errors.password = \"\";\n      this.setState({\n        password: evt.target.value,\n        isLoading: false,\n        invalidRutPassword: false\n      });\n      var rutError = document.getElementById(\"rut\");\n      rutError.classList.remove(\"invalid-field\");\n      var passwordError = document.getElementById(\"password\");\n      passwordError.classList.remove(\"invalid-field\");\n    }\n  }, {\n    key: \"onCheckValidRut\",\n    value: function onCheckValidRut() {\n      var checkString = document.getElementById(\"rut\").value;\n\n      if (/[^A-Za-z0-9._-\\d]/.test(checkString)) {\n        this.setState({\n          errorStatus: true,\n          everFocusedRut: true\n        });\n        this.state.errors.rut = \"Por favor, digite apenas letra e caracteres numéricos\"; //only nos and characters\n\n        document.getElementById(\"rut\").classList.remove(\"formLogin\");\n        document.getElementById(\"rut\").classList.add(\"error\");\n        return false;\n      }\n\n      if (this.state.validRut === false) {\n        this.setState({\n          invalidRut: true\n        });\n        document.getElementById(\"rut\").classList.add(\"error\");\n      } else {\n        this.setState({\n          invalidRut: false,\n          errorStatus: false,\n          everFocusedRut: false\n        });\n        document.getElementById(\"rut\").classList.remove(\"error\");\n      }\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(evt) {\n      evt.preventDefault();\n      var required = \"This field is required!\";\n      var errors = this.state.errors;\n      var checkString = document.getElementById(\"rut\").value;\n\n      if (!this.state.rut) {\n        var rutError = document.getElementById(\"rut\");\n        rutError.classList.add(\"invalid-field\");\n        this.state.errorStatus = true;\n        errors.rut = \"Rut es obligatorio!!\";\n      }\n\n      if (!this.state.password) {\n        this.state.errorStatus = true;\n        errors.password = \"La clave es obligatoria!!\";\n        var passwordError = document.getElementById(\"password\");\n        passwordError.classList.add(\"invalid-field\");\n      }\n\n      if (this.state.rut) {\n        // this.context.router.push('/create-password');\n        if (/[^A-Za-z0-9._-\\d]/.test(checkString)) {\n          this.setState({\n            errorStatus: true,\n            everFocusedRut: true\n          });\n          errors.rut = \"Por favor, digite apenas letra e caracteres numéricos\"; //only nos and characters\n\n          document.getElementById(\"rut\").classList.remove(\"formLogin\");\n          document.getElementById(\"rut\").classList.add(\"error\");\n          this.state.everFocusedRut = true;\n          return false;\n        } else {\n          if (this.state.password) {\n            if (this.state.rut.length > 7 && this.state.validRut) {\n              this.setState({\n                isLoading: !this.state.isLoading\n              });\n              var loginData = {\n                username: this.state.rut,\n                password: this.state.password,\n                client_id: \"restClient\",\n                client_secret: \"restSecret\",\n                grant_type: \"password\",\n                scope: \"portalConvenios\"\n              };\n              actions.checkLogin(loginData).done(function (data, status, headers) {\n                console.log(\"heyeyy\");\n              });\n            } else {\n              this.setState({\n                invalidRut: false,\n                errorStatus: true,\n                isLoading: false\n              });\n              errors.rut = \"Rut o contraseña inválida \";\n              var rutError = document.getElementById(\"rut\");\n              rutError.classList.add(\"invalid-field\");\n            }\n          } else {\n            this.state.errorStatus = true;\n            errors.rut = \"\";\n            errors.password = \"La clave es obligatoria!!\";\n            var passwordError = document.getElementById(\"password\");\n            passwordError.classList.add(\"invalid-field\");\n          }\n        }\n      }\n\n      this.setState({\n        errors: errors\n      });\n\n      if (Object.keys(errors).length) {\n        return '';\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var t = this.props.t;\n      return React.createElement(\"div\", {\n        className: \"user-pages login-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container user-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"user-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, this.state.blockError ? React.createElement(\"div\", {\n        className: \"msg error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, \"user-blocked\"))) : \"\", this.state.wentWrong ? React.createElement(\"div\", {\n        className: \"msg error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"something-went-wrong\"))) : \"\", React.createElement(\"div\", {\n        id: \"wentWrong\",\n        className: \"msg error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"something-went-wrong\"))), this.state.invalidRut ? React.createElement(\"div\", {\n        className: \"msg error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, \"invalid-rut\"))) : \"\", this.state.invalidRutPassword ? React.createElement(\"div\", {\n        className: \"msg error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"invalid-rut-password\"))) : \"\", this.state.errorStatus ? React.createElement(\"div\", {\n        className: \"msg error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fa fa-warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 215\n        },\n        __self: this\n      }, this.state.errors.rut ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, this.state.errors.rut) : \"\", this.state.errors.password ? React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, this.state.errors.password) : \"\")) : \"\", React.createElement(\"div\", {\n        className: \"form-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }, \"Login\")), React.createElement(\"div\", {\n        className: \"user-form\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"rut\",\n        className: \"form-control\",\n        name: \"rut\",\n        value: this.state.rut,\n        onChange: function onChange(e) {\n          return _this2.handleRutChange(\"rut\", e.target.value);\n        },\n        onBlur: this.onCheckValidRut,\n        placeholder: \"userid\",\n        maxLength: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"hint\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, \"example 12345678-3\")), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"password\",\n        id: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handlePasswordChange,\n        placeholder: \"password\",\n        maxLength: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-actions\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        href: \"/signup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, \"Sign Up\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        onClick: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"user-login\"))))))));\n    }\n  }]);\n\n  return SignUpPage;\n}(Component);\n\nSignUpPage.contextTypes = {\n  router: PropTypes.object.isRequired\n};\nexport default SignUpPage;","map":{"version":3,"sources":["/Users/chetna/Desktop/Site/my-app/choco-corp/src/components/SignUpPage.js"],"names":["React","Component","PropTypes","actions","SignUpPage","props","state","rut","password","everFocusedRut","everFocusedPassword","inFocus","errors","blockError","invalidRut","errorStatus","validRut","wentWrong","isLoading","invalidRutPassword","handleRutChange","bind","handlePasswordChange","handleSubmit","onCheckValidRut","name","rutt","setState","evt","document","getElementById","style","display","target","value","rutError","classList","remove","passwordError","checkString","test","add","preventDefault","required","length","loginData","username","client_id","client_secret","grant_type","scope","checkLogin","done","data","status","headers","console","log","Object","keys","t","e","contextTypes","router","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport * as actions from '../actions/index';\n\n\nclass SignUpPage extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      rut:\"\",\n      password:\"\",\n      everFocusedRut: false,\n      everFocusedPassword: false,\n      inFocus: \"\",\n      errors : {},\n      blockError : false,\n      invalidRut: false,\n      errorStatus : false,\n      validRut : false,\n      wentWrong : false,\n      isLoading : false,\n      invalidRutPassword : false,\n    }\n\n    this.handleRutChange = this.handleRutChange.bind(this);\n    this.handlePasswordChange = this.handlePasswordChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.onCheckValidRut = this.onCheckValidRut.bind(this)\n\n  }\n\n \n\n  handleRutChange(name,rutt){\n    \n\n    this.setState({ rut : rutt})\n\n  }\n\n  handlePasswordChange(evt){\n    document.getElementById('wentWrong').style.display = \"none\";\n    this.state.errors.password = \"\" ;\n    this.setState({ password: evt.target.value,isLoading : false,invalidRutPassword : false  });\n    var rutError = document.getElementById(\"rut\");\n    rutError.classList.remove(\"invalid-field\");\n    var passwordError = document.getElementById(\"password\");\n    passwordError.classList.remove(\"invalid-field\");\n  }\n\n  onCheckValidRut(){\n    var checkString = document.getElementById(\"rut\").value;\n    if (/[^A-Za-z0-9._-\\d]/.test(checkString)) {\n      this.setState({errorStatus : true,everFocusedRut:true})\n      this.state.errors.rut = \"Por favor, digite apenas letra e caracteres numéricos\"; //only nos and characters\n      document.getElementById(\"rut\").classList.remove(\"formLogin\");\n      document.getElementById(\"rut\").classList.add(\"error\");\n      return (false);\n    }\n    if (this.state.validRut === false) {\n       this.setState({invalidRut : true})\n       document.getElementById(\"rut\").classList.add(\"error\");\n    }\n    else {\n       this.setState({invalidRut : false,errorStatus : false,everFocusedRut:false})\n       document.getElementById(\"rut\").classList.remove(\"error\");\n    }\n  }\n\n  handleSubmit(evt){\n    evt.preventDefault();\n    const required  = \"This field is required!\";\n    let errors = this.state.errors;\n    var checkString = document.getElementById(\"rut\").value;\n    if(!this.state.rut){\n      var rutError = document.getElementById(\"rut\");\n      rutError.classList.add(\"invalid-field\");\n      this.state.errorStatus = true;\n      errors.rut = \"Rut es obligatorio!!\" ;\n\n\n    }\n    if(!this.state.password){\n       this.state.errorStatus = true;\n       errors.password = \"La clave es obligatoria!!\";\n       var passwordError = document.getElementById(\"password\");\n       passwordError.classList.add(\"invalid-field\");\n\n    }\n\n    if(this.state.rut){\n        // this.context.router.push('/create-password');\n        if ( /[^A-Za-z0-9._-\\d]/.test(checkString)) {\n            this.setState({errorStatus : true,everFocusedRut:true})\n            errors.rut = \"Por favor, digite apenas letra e caracteres numéricos\"; //only nos and characters\n            document.getElementById(\"rut\").classList.remove(\"formLogin\");\n            document.getElementById(\"rut\").classList.add(\"error\");\n            this.state.everFocusedRut = true;\n            return (false);\n        }\n\n        else {\n            if(this.state.password){\n              if(this.state.rut.length > 7 && this.state.validRut){\n                this.setState({isLoading : !this.state.isLoading})\n                let loginData = {\n                  username : this.state.rut,\n                  password: this.state.password,\n                  client_id: \"restClient\",\n                  client_secret: \"restSecret\",\n                  grant_type: \"password\",\n                  scope: \"portalConvenios\"\n                };\n                \n                \n\n                actions.checkLogin(loginData).done((data, status, headers) => {\n                  console.log(\"heyeyy\")\n                })\n              }\n              else{\n                  this.setState({invalidRut : false,errorStatus:true,isLoading : false})\n                  errors.rut = \"Rut o contraseña inválida \" ;\n                  var rutError = document.getElementById(\"rut\");\n                  rutError.classList.add(\"invalid-field\");\n              }\n\n            }\n\n            else {\n              this.state.errorStatus = true;\n              errors.rut = \"\" ;\n              errors.password = \"La clave es obligatoria!!\"\n              var passwordError = document.getElementById(\"password\");\n              passwordError.classList.add(\"invalid-field\");\n            }\n\n\n        }\n\n    }\n    this.setState({errors});\n    if(Object.keys(errors).length){\n       return '';\n    }\n  }\n\n  render() {\n    const {t} = this.props;\n\n    return (\n      <div className=\"user-pages login-page\">\n        \n        <div className=\"container user-container\">\n          <div className=\"logo\">\n            <img src=\"\" />\n          </div>\n          <div className=\"user-content\">\n          {this.state.blockError ?\n              <div className=\"msg error\">\n                <div className=\"icon\">\n                  <i className=\"fa fa-warning\"></i>\n                </div>\n                <div className=\"content\">\n                  <p>user-blocked</p>\n                </div>\n              </div>\n              : \"\"}\n\n              {this.state.wentWrong ?\n              <div className=\"msg error\">\n                <div className=\"icon\">\n                  <i className=\"fa fa-warning\"></i>\n                </div>\n                <div className=\"content\">\n                  <p>something-went-wrong</p>\n                </div>\n              </div>\n              : \"\"}\n                <div id= \"wentWrong\" className=\"msg error\">\n                <div className=\"icon\">\n                  <i className=\"fa fa-warning\"></i>\n                </div>\n                <div className=\"content\">\n                  <p>something-went-wrong</p>\n                </div>\n              </div>\n            {this.state.invalidRut ?\n              <div className=\"msg error\">\n                <div className=\"icon\">\n                  <i className=\"fa fa-warning\"></i>\n                </div>\n                <div className=\"content\">\n                  <p>invalid-rut</p>\n                </div>\n              </div> : \"\" }\n\n              {this.state.invalidRutPassword ?\n              <div className=\"msg error\">\n                <div className=\"icon\">\n                  <i className=\"fa fa-warning\"></i>\n                </div>\n                <div className=\"content\">\n                  <p>invalid-rut-password</p>\n                </div>\n              </div> : \"\" }\n\n            {this.state.errorStatus ?\n            <div className=\"msg error\">\n              <div className=\"icon\">\n                <i className=\"fa fa-warning\"></i>\n              </div>\n              <div className=\"content\">\n                {this.state.errors.rut ? <p>{this.state.errors.rut}</p> : \"\"}\n                {this.state.errors.password ? <p>{this.state.errors.password}</p> : \"\"}\n              </div>\n            </div> : \"\"}\n            <div className=\"form-header\">\n              <h2>Login</h2>\n            </div>\n            <div className=\"user-form\">\n              <form>\n                <div className=\"form-group\">\n                  <input type=\"text\" id=\"rut\" className=\"form-control\" name=\"rut\" value={this.state.rut} onChange={(e)=> this.handleRutChange(\"rut\" , e.target.value)}  onBlur={this.onCheckValidRut}  placeholder=\"userid\" maxLength=\"12\"/>\n                  <div className=\"hint\">example 12345678-3</div>\n                </div>\n                <div className=\"form-group\">\n                  <input type=\"password\" id=\"password\" className=\"form-control\" name=\"password\" value={this.state.password} onChange={this.handlePasswordChange} placeholder=\"password\" maxLength=\"8\"/>\n                </div>\n                <div className=\"form-actions\">\n                  <div>\n                    <a href=\"/signup\">Sign Up</a>\n                  </div>\n                  <div>\n                    <button className=\"btn btn-primary\" onClick={this.handleSubmit}>user-login</button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nSignUpPage.contextTypes = {\n  router: PropTypes.object.isRequired\n};\n\n\n\nexport default  SignUpPage;\n\n\n"]},"metadata":{},"sourceType":"module"}